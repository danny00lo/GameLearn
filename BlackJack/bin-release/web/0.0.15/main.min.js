var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function a(a){t.call(i,a,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?a(n):RES.getResAsync(e,a,this)}else RES.getResByUrl(e,a,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},t.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},t.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(this.GameContainer=new BlackJack.GameContainer,this.addChild(this.GameContainer))},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,a){function n(e){t.call(a,e)}function s(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(a))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var BlackJack;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(i,t),i.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.Index=new e.Index,this.createGameScene()},i.prototype.createGameScene=function(){this.Index.createStart(this),this.indexStartGame.touchEnabled=!0,this.indexRanking.touchEnabled=!0,this.indexMoreGame.touchEnabled=!0,this.indexStartGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this,!0),this.indexRanking.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingList,this,!0),this.indexMoreGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.moreGameList,this,!0)},i.prototype.startGame=function(){console.log("开始游戏"),this.Index.removeStartPage(this),this.Index.createTeachPage(this)},i.prototype.rankingList=function(){console.log("排行榜")},i.prototype.moreGameList=function(){console.log("更多游戏，暂不进行跳转")},i}(egret.DisplayObjectContainer);e.GameContainer=t,__reflect(t.prototype,"BlackJack.GameContainer")}(BlackJack||(BlackJack={}));var BlackJack;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.createStart=function(t){var i=t.stage.stageWidth/750,a=t.stage.stageHeight/1206;this.indexBackground=e.createBitmapByName("background_png"),this.indexBackground.width=t.stage.stageWidth,this.indexBackground.height=t.stage.stageHeight,t.addChild(this.indexBackground),t.indexStartGame=e.createBitmapByName("index_startGame_png"),t.indexStartGame.x=(t.stage.stageWidth-t.indexStartGame.width)/2,t.indexStartGame.y=890*a,t.addChild(t.indexStartGame),t.indexRanking=e.createBitmapByName("index_information_png"),t.indexRanking.x=(t.stage.stageWidth-t.indexRanking.width)/2,t.indexRanking.y=771*a,t.addChild(t.indexRanking),t.indexMoreGame=e.createBitmapByName("index_moreGame_png"),t.indexMoreGame.x=(t.stage.stageWidth-t.indexMoreGame.width)/2,t.indexMoreGame.y=1040*a,t.addChild(t.indexMoreGame),this.indexTitle=e.createBitmapByName("index_title_png"),this.indexTitle.x=(t.stage.stageWidth-this.indexTitle.width)/2,this.indexTitle.y=324*a,t.addChild(this.indexTitle),this.indexDiamondIcon=e.createBitmapByName("diamond_png"),this.indexDiamondIcon.x=40*i,this.indexDiamondIcon.y=34*a,t.addChild(this.indexDiamondIcon),this.indexDiamondText=new egret.BitmapText,this.indexDiamondText.font=RES.getRes("startDiamond_fnt"),this.indexDiamondText.text="234567",this.indexDiamondText.x=138*i,this.indexDiamondText.y=56*a,t.addChild(this.indexDiamondText)},i.prototype.popWindow=function(t){var i=t.stage.stageWidth/750,a=t.stage.stageHeight/1206;this.plusDiamondsPOP=e.createBitmapByName("hintBackground_png"),this.plusDiamondsPOP.x=(t.stage.stageWidth-this.plusDiamondsPOP.width)/2,this.plusDiamondsPOP.y=337*a,t.addChild(this.plusDiamondsPOP),this.plusDiamondsText=new egret.TextField,this.plusDiamondsText.textColor=4868682,this.plusDiamondsText.width=502,this.plusDiamondsText.height=250,this.plusDiamondsText.x=(t.stage.stageWidth-this.plusDiamondsText.width)/2,this.plusDiamondsText.y=337*a,this.plusDiamondsText.size=30,this.plusDiamondsText.textAlign=egret.HorizontalAlign.CENTER,this.plusDiamondsText.verticalAlign=egret.VerticalAlign.MIDDLE,this.plusDiamondsText.text="是否消耗5颗钻石开始绘星",t.addChild(this.plusDiamondsText),this.plusDiamondsCancel=new egret.TextField,this.plusDiamondsCancel.textColor=4868682,this.plusDiamondsCancel.width=251,this.plusDiamondsCancel.height=90,this.plusDiamondsCancel.x=125*i,this.plusDiamondsCancel.y=587*a,this.plusDiamondsCancel.size=30,this.plusDiamondsCancel.textAlign=egret.HorizontalAlign.CENTER,this.plusDiamondsCancel.verticalAlign=egret.VerticalAlign.MIDDLE,this.plusDiamondsCancel.text="取消",this.plusDiamondsCancel.touchEnabled=!0,t.addChild(this.plusDiamondsCancel),this.plusDiamondsConfirm=new egret.TextField,this.plusDiamondsConfirm.textColor=834338,this.plusDiamondsConfirm.width=251,this.plusDiamondsConfirm.height=90,this.plusDiamondsConfirm.x=376*i,this.plusDiamondsConfirm.y=587*a,this.plusDiamondsConfirm.size=30,this.plusDiamondsConfirm.textAlign=egret.HorizontalAlign.CENTER,this.plusDiamondsConfirm.verticalAlign=egret.VerticalAlign.MIDDLE,this.plusDiamondsConfirm.text="确定",this.plusDiamondsConfirm.touchEnabled=!0,t.addChild(this.plusDiamondsConfirm),this.plusDiamondsCancelListen=function(){this.popWindonwCancel(t)},this.plusDiamondsConirmListen=function(){this.popWindowConfirm(t)},this.plusDiamondsCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsCancelListen,this,!0),this.plusDiamondsConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsConirmListen,this,!0)},i.prototype.popWindonwCancel=function(e){this.plusDiamondsConfirm.touchEnabled=!1,this.plusDiamondsCancel.touchEnabled=!1,this.plusDiamondsCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsCancelListen,this,!0),this.plusDiamondsConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsConirmListen,this,!0),e.removeChild(this.plusDiamondsPOP),e.removeChild(this.plusDiamondsText),e.removeChild(this.plusDiamondsCancel),e.removeChild(this.plusDiamondsConfirm)},i.prototype.popWindowConfirm=function(e){this.plusDiamondsConfirm.touchEnabled=!1,this.plusDiamondsCancel.touchEnabled=!1,this.plusDiamondsCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsCancelListen,this,!0),this.plusDiamondsConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsConirmListen,this,!0),e.removeChild(this.plusDiamondsPOP),e.removeChild(this.plusDiamondsText),e.removeChild(this.plusDiamondsCancel),e.removeChild(this.plusDiamondsConfirm)},i.prototype.removeStartPage=function(e){e.removeChild(this.indexBackground),e.removeChild(e.indexStartGame),e.removeChild(e.indexRanking),e.removeChild(this.indexDiamondIcon),e.removeChild(this.indexDiamondText)},i.prototype.createTeachPage=function(t){var i=t.stage.stageWidth/750,a=t.stage.stageHeight/1206;this.teachBackground=e.createBitmapByName("game_background_png"),this.teachBackground.width=t.stage.stageWidth,this.teachBackground.height=t.stage.stageHeight,t.addChild(this.teachBackground),this.teachMusic=e.createBitmapByName("game_music_png"),this.teachMusic.x=554*i,this.teachMusic.y=20*a,t.addChild(this.teachMusic),this.teachHelp=e.createBitmapByName("game_help_png"),this.teachHelp.x=656*i,this.teachHelp.y=20*a,t.addChild(this.teachHelp),this.teachClear=e.createBitmapByName("clear_click_png"),this.teachClear.x=630*i,this.teachClear.y=932*a,t.addChild(this.teachClear),this.teachFill=new egret.Shape,this.teachFill.graphics.beginFill(0,.5),this.teachFill.graphics.drawRect(0,0,750*i,1206*a),this.teachFill.graphics.endFill(),t.addChild(this.teachFill),this.teachScore1=e.createBitmapByName("1_png"),this.teachScore1.x=30*i,this.teachScore1.y=934*a,t.addChild(this.teachScore1),this.teachScore2=e.createBitmapByName("10_png"),this.teachScore2.x=145*i,this.teachScore2.y=934*a,t.addChild(this.teachScore2),this.teachScore3=e.createBitmapByName("20_png"),this.teachScore3.x=260*i,this.teachScore3.y=934*a,t.addChild(this.teachScore3),this.teachScore4=e.createBitmapByName("50_png"),this.teachScore4.x=375*i,this.teachScore4.y=934*a,t.addChild(this.teachScore4),this.teachScore5=e.createBitmapByName("100_png"),this.teachScore5.x=490*i,this.teachScore5.y=934*a,t.addChild(this.teachScore5),this.teachClick1=e.createBitmapByName("fapai_normal_png"),this.teachClick1.x=30*i,this.teachClick1.y=1090*a,t.addChild(this.teachClick1),this.teachClick2=e.createBitmapByName("yaopai_click_png"),this.teachClick2.x=176*i,this.teachClick2.y=1090*a,t.addChild(this.teachClick2),this.teachClick3=e.createBitmapByName("tingpai_norma_png"),this.teachClick3.x=321*i,this.teachClick3.y=1090*a,t.addChild(this.teachClick3),this.teachClick4=e.createBitmapByName("fenpai_normal_png"),this.teachClick4.x=467*i,this.teachClick4.y=1090*a,t.addChild(this.teachClick4),this.teachClick5=e.createBitmapByName("baoxian_normal_png"),this.teachClick5.x=612*i,this.teachClick5.y=1090*a,t.addChild(this.teachClick5),this.teachText1=e.createBitmapByName("teach_text1_png"),this.teachText1.x=206*i,this.teachText1.y=155*a,t.addChild(this.teachText1),this.teachText2=e.createBitmapByName("teach_text2_png"),this.teachText2.x=230*i,this.teachText2.y=498*a,t.addChild(this.teachText2),this.teachText3=e.createBitmapByName("teach_text3_png"),this.teachText3.x=176*i,this.teachText3.y=834*a,t.addChild(this.teachText3),this.teachText4=e.createBitmapByName("teach_text4_png"),this.teachText4.x=223*i,this.teachText4.y=1047*a,t.addChild(this.teachText4),this.teachTextIcon1=e.createBitmapByName("jaintou_1_png"),this.teachTextIcon1.x=156*i,this.teachTextIcon1.y=125*a,t.addChild(this.teachTextIcon1),this.teachTextIcon2=e.createBitmapByName("jaintou_2_png"),this.teachTextIcon2.x=270*i,this.teachTextIcon2.y=539*a,t.addChild(this.teachTextIcon2),this.teachTextIcon3=e.createBitmapByName("jaintou_2_png"),this.teachTextIcon3.x=120*i,this.teachTextIcon3.y=872*a,t.addChild(this.teachTextIcon3),this.teachTextIcon4=e.createBitmapByName("jaintou_2_png"),this.teachTextIcon4.x=180*i,this.teachTextIcon4.y=1040*a,t.addChild(this.teachTextIcon4)},i}(egret.DisplayObjectContainer);e.Index=t,__reflect(t.prototype,"BlackJack.Index")}(BlackJack||(BlackJack={}));var BlackJack;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(egret.DisplayObjectContainer);e.Information=t,__reflect(t.prototype,"BlackJack.Information")}(BlackJack||(BlackJack={}));var BlackJack;!function(e){function t(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t}function i(){return{ajaxUrl:"http://randomtest.haiguime.com/",gameId:sessionStorage.getItem("gameId"),platformType:"YLK"}}e.createBitmapByName=t,e.requestHTTP=i}(BlackJack||(BlackJack={}));