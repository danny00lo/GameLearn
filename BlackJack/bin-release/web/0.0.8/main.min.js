var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},BlackJack;!function(e){function t(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t}function i(){return{ajaxUrl:"http://randomtest.haiguime.com/",gameId:sessionStorage.getItem("gameId"),platformType:"YLK",userToken:sessionStorage.getItem("loginUser")}}function a(e){var t=e;if(t.length>4){var i=t.slice(0,4)+"...";return i}return t}e.createBitmapByName=t,e.requestHTTP=i,e.cutName=a}(BlackJack||(BlackJack={}));var BlackJack;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.pokerMaster=[],e.pokerSalver=[],e}return __extends(i,t),i.prototype.createGame=function(t){for(var i=this,a=t.numChildren,n=0;a>n;n++)t.removeChildAt(0);var s=this,o=t.stage.stageWidth/750,h=t.stage.stageHeight/1206;this.gameBackground=e.createBitmapByName("game_background_png"),this.gameBackground.width=t.stage.stageWidth,this.gameBackground.height=t.stage.stageHeight,t.addChild(this.gameBackground),this.gameClear=e.createBitmapByName("clear_click_png"),this.gameClear.x=630*o,this.gameClear.y=932*h,t.addChild(this.gameClear),this.gameMusic=e.createBitmapByName("game_music_png"),this.gameMusic.x=554*o,this.gameMusic.y=20*h,t.addChild(this.gameMusic),this.gameHelp=e.createBitmapByName("game_help_png"),this.gameHelp.x=656*o,this.gameHelp.y=20*h,t.addChild(this.gameHelp),this.gameScore1=e.createBitmapByName("1_png"),this.gameScore1.x=30*o,this.gameScore1.y=934*h,t.addChild(this.gameScore1),this.gameScore2=e.createBitmapByName("10_png"),this.gameScore2.x=145*o,this.gameScore2.y=934*h,t.addChild(this.gameScore2),this.gameScore3=e.createBitmapByName("20_png"),this.gameScore3.x=260*o,this.gameScore3.y=934*h,t.addChild(this.gameScore3),this.gameScore4=e.createBitmapByName("50_png"),this.gameScore4.x=375*o,this.gameScore4.y=934*h,t.addChild(this.gameScore4),this.gameScore5=e.createBitmapByName("100_png"),this.gameScore5.x=490*o,this.gameScore5.y=934*h,t.addChild(this.gameScore5),this.gameClick1=e.createBitmapByName("fapai_normal_png"),this.gameClick1.x=30*o,this.gameClick1.y=1090*h,t.addChild(this.gameClick1),this.gameClick2=e.createBitmapByName("yaopai_normal_png"),this.gameClick2.x=176*o,this.gameClick2.y=1090*h,t.addChild(this.gameClick2),this.gameClick3=e.createBitmapByName("tingpai_norma_png"),this.gameClick3.x=321*o,this.gameClick3.y=1090*h,t.addChild(this.gameClick3),this.gameClick4=e.createBitmapByName("fenpai_normal_png"),this.gameClick4.x=467*o,this.gameClick4.y=1090*h,t.addChild(this.gameClick4),this.gameClick5=e.createBitmapByName("baoxian_normal_png"),this.gameClick5.x=612*o,this.gameClick5.y=1090*h,t.addChild(this.gameClick5),this.gameTextScore=e.createBitmapByName("game_scoreBackground_png"),this.gameTextScore.x=52*o,this.gameTextScore.y=22*h,t.addChild(this.gameTextScore),this.gameHeadIcon=e.createBitmapByName("head_icon_png"),this.gameHeadIcon.x=14*o,this.gameHeadIcon.y=14*h,t.addChild(this.gameHeadIcon),this.chips=e.createBitmapByName("chips_png"),this.chips.x=(t.stage.stageWidth-this.chips.width)/2,this.chips.y=542*h,t.addChild(this.chips),this.gameConsBackground=e.createBitmapByName("consBackground_png"),this.gameConsBackground.x=(t.stage.stageWidth-this.gameConsBackground.width)/2,this.gameConsBackground.y=609*h,t.addChild(this.gameConsBackground),this.gameCons=new egret.BitmapText,this.gameCons.font=RES.getRes("gameCons_fnt"),this.gameCons.width=this.gameConsBackground.width,this.gameCons.height=this.gameConsBackground.height,this.gameCons.x=(t.stage.stageWidth-this.gameConsBackground.width)/2,this.gameCons.y=609*h,this.gameCons.textAlign=egret.HorizontalAlign.CENTER,this.gameCons.verticalAlign=egret.VerticalAlign.MIDDLE,this.gameCons.text="0",t.addChild(this.gameCons),this.creategameIconListen=function(e){i.creategameIcon(e,t)};RES.getResByUrl(sessionStorage.getItem("userImg"),this.creategameIconListen,this,RES.ResourceItem.TYPE_IMAGE);this.gameHeadText=new egret.BitmapText,this.gameHeadText.font=RES.getRes("startDiamond_fnt"),this.gameHeadText.width=173*o,this.gameHeadText.height=this.gameTextScore.height,this.gameHeadText.x=136*o,this.gameHeadText.y=22*h,this.gameHeadText.textAlign=egret.HorizontalAlign.LEFT,this.gameHeadText.verticalAlign=egret.VerticalAlign.MIDDLE,t.addChild(this.gameHeadText);var r={userToken:e.requestHTTP().userToken};API.getUserInfo(r).then(function(e){console.log(e),s.gameHeadText.text=e.data.pointValue}),this.gameHelp.touchEnabled=!0,this.gameHelpListen=function(){s.helpShow(t)},this.gameHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gameHelpListen,this,!0),this.sendPoker(t)},i.prototype.creategameIcon=function(t,i){var a=i.stage.stageWidth/750,n=i.stage.stageHeight/1206,s=t;this.gameHeadIconReal=new egret.Bitmap(s),this.gameHeadIconReal.x=17*a,this.gameHeadIconReal.y=17*n,this.gameHeadIconReal.width=103,this.gameHeadIconReal.height=103,i.addChild(this.gameHeadIconReal);var o=e.createBitmapByName("head_icon_png");o.x=17*a,o.y=17*n,o.width=103,o.height=103,i.addChild(o),this.gameHeadIconReal.mask=o},i.prototype.sendPoker=function(t){var i=this,a=t.stage.stageWidth/750,n=t.stage.stageHeight/1206;this.pokerMaster[0]=e.createBitmapByName("pokerBack_png"),this.pokerMaster[0].x=(t.stage.stageWidth-this.pokerMaster[0].width)/2,this.pokerMaster[0].y=-this.pokerMaster[0].height*n,t.addChild(this.pokerMaster[0]),this.pokerMaster[1]=e.createBitmapByName("pokerBack_png"),this.pokerMaster[1].x=(t.stage.stageWidth-this.pokerMaster[1].width)/2,this.pokerMaster[1].y=-this.pokerMaster[1].height*n,t.addChild(this.pokerMaster[1]),this.pokerSalver[0]=e.createBitmapByName("pokerBack_png"),this.pokerSalver[0].x=(t.stage.stageWidth-this.pokerSalver[0].width)/2,this.pokerSalver[0].y=-this.pokerSalver[0].height*n,t.addChild(this.pokerSalver[0]),this.pokerSalver[1]=e.createBitmapByName("pokerBack_png"),this.pokerSalver[1].x=(t.stage.stageWidth-this.pokerSalver[1].width)/2,this.pokerSalver[1].y=-this.pokerSalver[1].height*n,t.addChild(this.pokerSalver[1]),egret.Tween.get(this.pokerSalver[0]).to({x:324*a,y:702*n},1e3).call(function(){var e=Math.abs(10*Math.random())<2?"a":Math.abs(10*Math.random())<5?"b":Math.abs(10*Math.random())<8?"c":"d",t=Math.abs(10*Math.random())<2?1:10;i.pokerSalver[0].texture=RES.getRes(e+t+"_png"),egret.Tween.get(i.pokerMaster[0]).to({x:324*a,y:164*n},1e3).call(function(){egret.Tween.get(i.pokerSalver[1]).to({x:349*a,y:702*n},1e3).call(function(){var e=Math.abs(10*Math.random())<2?"a":Math.abs(10*Math.random())<5?"b":Math.abs(10*Math.random())<8?"c":"d",t=Math.abs(10*Math.random())<2?1:10;i.pokerSalver[1].texture=RES.getRes(e+t+"_png"),egret.Tween.get(i.pokerMaster[1]).to({x:349*a,y:164*n},1e3).call(function(){var e=Math.abs(10*Math.random())<2?"a":Math.abs(10*Math.random())<5?"b":Math.abs(10*Math.random())<8?"c":"d",t=Math.abs(10*Math.random())<2?1:10;i.pokerMaster[1].texture=RES.getRes(e+t+"_png")})})})})},i.prototype.helpShow=function(t){this.gameHelp.touchEnabled=!1,this.gameHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gameHelpListen,this,!0);var i=this,a=t.stage.stageWidth/750,n=t.stage.stageHeight/1206;this.gameHelpBackground=e.createBitmapByName("helpBackground_png"),this.gameHelpBackground.x=(t.stage.stageWidth-this.gameHelpBackground.width)/2,this.gameHelpBackground.y=178*n,t.addChild(this.gameHelpBackground),this.gameHelpColse=e.createBitmapByName("close_png"),this.gameHelpColse.x=604*a,this.gameHelpColse.y=202*n,t.addChild(this.gameHelpColse),this.gameHelpText=e.createBitmapByName("gameHelpText_png"),this.gameHelpText.x=120*a,this.gameHelpText.y=178*n,t.addChild(this.gameHelpText),this.infoUI=new InformationUI,this.infoUI.x=(t.stage.stageWidth-this.gameHelpBackground.width)/2,this.infoUI.y=178*n,t.addChild(this.infoUI),this.gameHelpColse.touchEnabled=!0,this.gameHelpColseListen=function(){i.closeHelp(t)},this.gameHelpColse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gameHelpColseListen,this,!0)},i.prototype.closeHelp=function(e){var t=this;this.gameHelpColse.touchEnabled=!1,this.gameHelpColse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gameHelpColseListen,this,!0),e.removeChild(this.gameHelpBackground),e.removeChild(this.gameHelpColse),e.removeChild(this.gameHelpText),e.removeChild(this.infoUI),this.gameHelp.touchEnabled=!0,this.gameHelpListen=function(){t.helpShow(e)},this.gameHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gameHelpListen,this,!0)},i}(egret.DisplayObjectContainer);e.Game=t,__reflect(t.prototype,"BlackJack.Game")}(BlackJack||(BlackJack={}));var BlackJack;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(i,t),i.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.Index=new e.Index,this.Game=new e.Game,this.Information=new e.Information,this.createGameScene()},i.prototype.createGameScene=function(){this.Index.createStart(this),this.indexStartGame.touchEnabled=!0,this.indexRanking.touchEnabled=!0,this.indexMoreGame.touchEnabled=!0,this.indexStartGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this,!0),this.indexRanking.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingList,this,!0),this.indexMoreGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.moreGameList,this,!0)},i.prototype.startGame=function(){this.indexStartGame.touchEnabled=!1,this.indexRanking.touchEnabled=!1,this.indexMoreGame.touchEnabled=!1,this.indexStartGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this,!0),this.indexRanking.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingList,this,!0),this.indexMoreGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.moreGameList,this,!0),this.Index.removeStartPage(this),this.Index.createTeachPage(this),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.runGame,this,!0)},i.prototype.runGame=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.runGame,this,!0),this.Game.createGame(this)},i.prototype.rankingList=function(){this.indexStartGame.touchEnabled=!1,this.indexRanking.touchEnabled=!1,this.indexMoreGame.touchEnabled=!1,this.indexStartGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this,!0),this.indexRanking.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingList,this,!0),this.indexMoreGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.moreGameList,this,!0),this.Information.createInformationeRankingPage(this),this.infomationClose.touchEnabled=!0,this.infomationClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeRankingList,this,!0)},i.prototype.closeRankingList=function(){this.indexStartGame.touchEnabled=!0,this.indexRanking.touchEnabled=!0,this.indexMoreGame.touchEnabled=!0,this.indexStartGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this,!0),this.indexRanking.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingList,this,!0),this.indexMoreGame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.moreGameList,this,!0),this.infomationClose.touchEnabled=!1,this.infomationClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeRankingList,this,!0),this.Information.removeInformationRankingPage(this)},i.prototype.moreGameList=function(){this.indexStartGame.touchEnabled=!1,this.indexRanking.touchEnabled=!1,this.indexMoreGame.touchEnabled=!1,this.indexStartGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startGame,this,!0),this.indexRanking.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingList,this,!0),this.indexMoreGame.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.moreGameList,this,!0),window.location.href=e.requestHTTP().ajaxUrl+"xyx/platform/index.html"},i}(egret.DisplayObjectContainer);e.GameContainer=t,__reflect(t.prototype,"BlackJack.GameContainer")}(BlackJack||(BlackJack={}));var BlackJack;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.createStart=function(t){var i=t.stage.stageWidth/750,a=t.stage.stageHeight/1206,n=this;this.indexBackground=e.createBitmapByName("background_png"),this.indexBackground.width=t.stage.stageWidth,this.indexBackground.height=t.stage.stageHeight,t.addChild(this.indexBackground),t.indexStartGame=e.createBitmapByName("index_startGame_png"),t.indexStartGame.x=(t.stage.stageWidth-t.indexStartGame.width)/2,t.indexStartGame.y=890*a,t.addChild(t.indexStartGame),t.indexRanking=e.createBitmapByName("index_information_png"),t.indexRanking.x=(t.stage.stageWidth-t.indexRanking.width)/2,t.indexRanking.y=771*a,t.addChild(t.indexRanking),t.indexMoreGame=e.createBitmapByName("index_moreGame_png"),t.indexMoreGame.x=(t.stage.stageWidth-t.indexMoreGame.width)/2,t.indexMoreGame.y=1040*a,t.addChild(t.indexMoreGame),this.indexTitle=e.createBitmapByName("index_title_png"),this.indexTitle.x=(t.stage.stageWidth-this.indexTitle.width)/2,this.indexTitle.y=324*a,t.addChild(this.indexTitle),this.indexDiamondIcon=e.createBitmapByName("diamond_png"),this.indexDiamondIcon.x=40*i,this.indexDiamondIcon.y=34*a,t.addChild(this.indexDiamondIcon),this.indexDiamondText=new egret.BitmapText,this.indexDiamondText.font=RES.getRes("startDiamond_fnt"),this.indexDiamondText.height=this.indexDiamondIcon.height,this.indexDiamondText.x=138*i,this.indexDiamondText.y=34*a,this.indexDiamondText.textAlign=egret.HorizontalAlign.LEFT,this.indexDiamondText.verticalAlign=egret.VerticalAlign.MIDDLE,t.addChild(this.indexDiamondText);var s={userToken:e.requestHTTP().userToken};API.getUserInfo(s).then(function(e){console.log(e),n.indexDiamondText.text=e.data.pointValue})},i.prototype.popWindow=function(t){var i=t.stage.stageWidth/750,a=t.stage.stageHeight/1206;this.plusDiamondsPOP=e.createBitmapByName("hintBackground_png"),this.plusDiamondsPOP.x=(t.stage.stageWidth-this.plusDiamondsPOP.width)/2,this.plusDiamondsPOP.y=337*a,t.addChild(this.plusDiamondsPOP),this.plusDiamondsText=new egret.TextField,this.plusDiamondsText.textColor=4868682,this.plusDiamondsText.width=502,this.plusDiamondsText.height=250,this.plusDiamondsText.x=(t.stage.stageWidth-this.plusDiamondsText.width)/2,this.plusDiamondsText.y=337*a,this.plusDiamondsText.size=30,this.plusDiamondsText.textAlign=egret.HorizontalAlign.CENTER,this.plusDiamondsText.verticalAlign=egret.VerticalAlign.MIDDLE,this.plusDiamondsText.text="是否消耗5颗钻石开始绘星",t.addChild(this.plusDiamondsText),this.plusDiamondsCancel=new egret.TextField,this.plusDiamondsCancel.textColor=4868682,this.plusDiamondsCancel.width=251,this.plusDiamondsCancel.height=90,this.plusDiamondsCancel.x=125*i,this.plusDiamondsCancel.y=587*a,this.plusDiamondsCancel.size=30,this.plusDiamondsCancel.textAlign=egret.HorizontalAlign.CENTER,this.plusDiamondsCancel.verticalAlign=egret.VerticalAlign.MIDDLE,this.plusDiamondsCancel.text="取消",this.plusDiamondsCancel.touchEnabled=!0,t.addChild(this.plusDiamondsCancel),this.plusDiamondsConfirm=new egret.TextField,this.plusDiamondsConfirm.textColor=834338,this.plusDiamondsConfirm.width=251,this.plusDiamondsConfirm.height=90,this.plusDiamondsConfirm.x=376*i,this.plusDiamondsConfirm.y=587*a,this.plusDiamondsConfirm.size=30,this.plusDiamondsConfirm.textAlign=egret.HorizontalAlign.CENTER,this.plusDiamondsConfirm.verticalAlign=egret.VerticalAlign.MIDDLE,this.plusDiamondsConfirm.text="确定",this.plusDiamondsConfirm.touchEnabled=!0,t.addChild(this.plusDiamondsConfirm),this.plusDiamondsCancelListen=function(){this.popWindonwCancel(t)},this.plusDiamondsConirmListen=function(){this.popWindowConfirm(t)},this.plusDiamondsCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsCancelListen,this,!0),this.plusDiamondsConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsConirmListen,this,!0)},i.prototype.popWindonwCancel=function(e){this.plusDiamondsConfirm.touchEnabled=!1,this.plusDiamondsCancel.touchEnabled=!1,this.plusDiamondsCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsCancelListen,this,!0),this.plusDiamondsConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsConirmListen,this,!0),e.removeChild(this.plusDiamondsPOP),e.removeChild(this.plusDiamondsText),e.removeChild(this.plusDiamondsCancel),e.removeChild(this.plusDiamondsConfirm)},i.prototype.popWindowConfirm=function(e){this.plusDiamondsConfirm.touchEnabled=!1,this.plusDiamondsCancel.touchEnabled=!1,this.plusDiamondsCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsCancelListen,this,!0),this.plusDiamondsConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.plusDiamondsConirmListen,this,!0),e.removeChild(this.plusDiamondsPOP),e.removeChild(this.plusDiamondsText),e.removeChild(this.plusDiamondsCancel),e.removeChild(this.plusDiamondsConfirm)},i.prototype.removeStartPage=function(e){e.removeChild(this.indexBackground),e.removeChild(e.indexStartGame),e.removeChild(e.indexRanking),e.removeChild(this.indexDiamondIcon),e.removeChild(this.indexDiamondText)},i.prototype.createTeachPage=function(t){var i=this,a=t.stage.stageWidth/750,n=t.stage.stageHeight/1206;this.teachBackground=e.createBitmapByName("game_background_png"),this.teachBackground.width=t.stage.stageWidth,this.teachBackground.height=t.stage.stageHeight,t.addChild(this.teachBackground),this.teachMusic=e.createBitmapByName("game_music_png"),this.teachMusic.x=554*a,this.teachMusic.y=20*n,t.addChild(this.teachMusic),this.teachHelp=e.createBitmapByName("game_help_png"),this.teachHelp.x=656*a,this.teachHelp.y=20*n,t.addChild(this.teachHelp),this.teachClear=e.createBitmapByName("clear_click_png"),this.teachClear.x=630*a,this.teachClear.y=932*n,t.addChild(this.teachClear),this.teachFill=new egret.Shape,this.teachFill.graphics.beginFill(0,.5),this.teachFill.graphics.drawRect(0,0,750*a,1206*n),this.teachFill.graphics.endFill(),t.addChild(this.teachFill),this.teachScore1=e.createBitmapByName("1_png"),this.teachScore1.x=30*a,this.teachScore1.y=934*n,t.addChild(this.teachScore1),this.teachScore2=e.createBitmapByName("10_png"),this.teachScore2.x=145*a,this.teachScore2.y=934*n,t.addChild(this.teachScore2),this.teachScore3=e.createBitmapByName("20_png"),this.teachScore3.x=260*a,this.teachScore3.y=934*n,t.addChild(this.teachScore3),this.teachScore4=e.createBitmapByName("50_png"),this.teachScore4.x=375*a,this.teachScore4.y=934*n,t.addChild(this.teachScore4),this.teachScore5=e.createBitmapByName("100_png"),this.teachScore5.x=490*a,this.teachScore5.y=934*n,t.addChild(this.teachScore5),this.teachClick1=e.createBitmapByName("fapai_normal_png"),this.teachClick1.x=30*a,this.teachClick1.y=1090*n,t.addChild(this.teachClick1),this.teachClick2=e.createBitmapByName("yaopai_click_png"),this.teachClick2.x=176*a,this.teachClick2.y=1090*n,t.addChild(this.teachClick2),this.teachClick3=e.createBitmapByName("tingpai_norma_png"),this.teachClick3.x=321*a,this.teachClick3.y=1090*n,t.addChild(this.teachClick3),this.teachClick4=e.createBitmapByName("fenpai_normal_png"),this.teachClick4.x=467*a,this.teachClick4.y=1090*n,t.addChild(this.teachClick4),this.teachClick5=e.createBitmapByName("baoxian_normal_png"),this.teachClick5.x=612*a,this.teachClick5.y=1090*n,t.addChild(this.teachClick5),this.teachText1=e.createBitmapByName("teach_text1_png"),this.teachText1.x=206*a,this.teachText1.y=155*n,t.addChild(this.teachText1),this.teachText2=e.createBitmapByName("teach_text2_png"),this.teachText2.x=230*a,this.teachText2.y=498*n,t.addChild(this.teachText2),this.teachText3=e.createBitmapByName("teach_text3_png"),this.teachText3.x=176*a,this.teachText3.y=834*n,t.addChild(this.teachText3),this.teachText4=e.createBitmapByName("teach_text4_png"),this.teachText4.x=223*a,this.teachText4.y=1047*n,t.addChild(this.teachText4),this.teachTextIcon1=e.createBitmapByName("jaintou_1_png"),this.teachTextIcon1.x=156*a,this.teachTextIcon1.y=125*n,t.addChild(this.teachTextIcon1),this.teachTextIcon2=e.createBitmapByName("jaintou_2_png"),this.teachTextIcon2.x=270*a,this.teachTextIcon2.y=539*n,t.addChild(this.teachTextIcon2),this.teachTextIcon3=e.createBitmapByName("jaintou_2_png"),this.teachTextIcon3.x=120*a,this.teachTextIcon3.y=872*n,t.addChild(this.teachTextIcon3),this.teachTextIcon4=e.createBitmapByName("jaintou_2_png"),this.teachTextIcon4.x=180*a,this.teachTextIcon4.y=1040*n,t.addChild(this.teachTextIcon4),this.teachConsBackground=e.createBitmapByName("teach_cons_png"),this.teachConsBackground.x=(t.stage.stageWidth-this.teachConsBackground.width)/2,this.teachConsBackground.y=614*n,t.addChild(this.teachConsBackground),this.teachConsText=new egret.TextField,this.teachConsText.textColor=0,this.teachConsText.x=(t.stage.stageWidth-this.teachConsBackground.width)/2,this.teachConsText.y=614*n,this.teachConsText.width=this.teachConsBackground.width,this.teachConsText.height=this.teachConsBackground.height,this.teachConsText.size=30,this.teachConsText.textAlign=egret.HorizontalAlign.CENTER,this.teachConsText.verticalAlign=egret.VerticalAlign.MIDDLE,this.teachConsText.text="0",t.addChild(this.teachConsText),this.teachTextScore=e.createBitmapByName("teach_show_png"),this.teachTextScore.x=52*a,this.teachTextScore.y=22*n,t.addChild(this.teachTextScore),this.textHeadIcon=e.createBitmapByName("head_icon_png"),this.textHeadIcon.x=14*a,this.textHeadIcon.y=14*n,t.addChild(this.textHeadIcon),this.createTeachIconListen=function(e){i.createTeachIcon(e,t)};RES.getResByUrl(sessionStorage.getItem("userImg"),this.createTeachIconListen,this,RES.ResourceItem.TYPE_IMAGE)},i.prototype.createTeachIcon=function(t,i){var a=i.stage.stageWidth/750,n=i.stage.stageHeight/1206,s=t;this.textHeadIconReal=new egret.Bitmap(s),this.textHeadIconReal.x=17*a,this.textHeadIconReal.y=17*n,this.textHeadIconReal.width=103,this.textHeadIconReal.height=103,i.addChild(this.textHeadIconReal);var o=e.createBitmapByName("head_icon_png");o.x=17*a,o.y=17*n,o.width=103,o.height=103,i.addChild(o),this.textHeadIconReal.mask=o},i}(egret.DisplayObjectContainer);e.Index=t,__reflect(t.prototype,"BlackJack.Index")}(BlackJack||(BlackJack={}));var BlackJack;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.changing=!1,e}return __extends(i,t),i.prototype.createInformationeRankingPage=function(t){var i=this,a=t.stage.stageWidth/750,n=t.stage.stageHeight/1206;this.background=e.createBitmapByName("infomationBackground_png"),this.background.x=(t.stage.stageWidth-this.background.width)/2,this.background.y=178*n,t.addChild(this.background),this.infoTab=e.createBitmapByName("infoTab_png"),this.infoTab.x=76*a,this.infoTab.y=178*n,t.addChild(this.infoTab),this.rankingTab=e.createBitmapByName("rankingTab_nor_png"),this.rankingTab.x=329*a,this.rankingTab.y=178*n,t.addChild(this.rankingTab),t.infomationClose=e.createBitmapByName("close_png"),t.infomationClose.x=604*a,t.infomationClose.y=202*n,t.addChild(t.infomationClose),this.rankingTab.touchEnabled=!0,this.rankingTabListen=function(){i.changing=!0,i.rankingCreatePage(t)},this.rankingTab.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingTabListen,this,!0),this.infoUI=new InformationUI,this.infoUI.x=(t.stage.stageWidth-this.background.width)/2,this.infoUI.y=178*n,t.addChild(this.infoUI)},i.prototype.removeInformationRankingPage=function(e){console.log("关闭"),e.removeChild(this.background),e.removeChild(this.infoTab),e.removeChild(this.rankingTab),e.removeChild(e.infomationClose),0==this.changing?e.removeChild(this.infoUI):e.removeChild(this.rankingUI)},i.prototype.rankingCreatePage=function(e){var t=this;e.stage.stageWidth/750,e.stage.stageHeight/1206;e.removeChild(this.infoUI),this.rankingTab.touchEnabled=!1,this.rankingTab.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingTabListen,this,!0),this.infoTab.texture=RES.getRes("infoTab_nor_png"),this.rankingTab.texture=RES.getRes("rankingTab_png"),this.infoTab.touchEnabled=!0,this.infoTabListen=function(){t.changing=!1,t.infoCreatePage(e)},this.infoTab.addEventListener(egret.TouchEvent.TOUCH_TAP,this.infoTabListen,this,!0)},i.prototype.infoCreatePage=function(e){console.log("???");var t=this,i=(e.stage.stageWidth/750,e.stage.stageHeight/1206);this.infoTab.touchEnabled=!1,this.infoTab.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.infoTabListen,this,!0),this.infoTab.texture=RES.getRes("infoTab_png"),this.rankingTab.texture=RES.getRes("rankingTab_nor_png"),this.rankingTab.touchEnabled=!0,this.rankingTabListen=function(){t.changing=!0,t.rankingCreatePage(e)},this.rankingTab.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankingTabListen,this,!0),this.infoUI=new InformationUI,this.infoUI.x=(e.stage.stageWidth-this.background.width)/2,this.infoUI.y=178*i,e.addChild(this.infoUI)},i}(egret.DisplayObjectContainer);e.Information=t,__reflect(t.prototype,"BlackJack.Information")}(BlackJack||(BlackJack={}));var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function a(a){t.call(i,a,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?a(n):RES.getResAsync(e,a,this)}else RES.getResByUrl(e,a,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,a){function n(e){t.call(a,e)}function s(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(a))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var InformationUI=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(eui.UIEvent.COMPLETE,t.uiCompHandler,t),t.skinName="resource/skins/infoUISkin.exml",t}return __extends(t,e),t.prototype.getInfo=function(){var e=this,t={gameId:BlackJack.requestHTTP().gameId};API.getGameInfo(t).then(function(t){console.log(t);for(var i=[],a=0;1>a;a++){var n={info:t.data.comment};i.push(n)}e.infoMation.dataProvider=new eui.ArrayCollection(i),e.infoMation.itemRenderer=InformationList})},t.prototype.uiCompHandler=function(){this.getInfo()},t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);__reflect(InformationUI.prototype,"InformationUI");var InformationList=function(e){function t(){var t=e.call(this)||this;return t.skinName="infomationListSkin",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);__reflect(InformationList.prototype,"InformationList");var Ranking=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(eui.UIEvent.COMPLETE,t.uiCompHandler,t),t.skinName="resource/skins/ranking.exml",t}return __extends(t,e),t.prototype.rankingList=function(){var e=this,t={userToken:BlackJack.requestHTTP().userToken,gameId:BlackJack.requestHTTP().gameId};API.getUserRanking(t).then(function(t){console.log(t);for(var i,a=[],n=0;n<t.data.allRank.length;n++)0!=t.data.allRank[n].grade&&(i={icon:t.data.allRank[n].head_img_url,goodsName:BlackJack.cutName(decodeURI(t.data.allRank[n].nickname)),comment:t.data.allRank[n].grade,rank:"NO."+(n+1),realColor:"0x4A4A4A"},a.push(i));e.listGoods.dataProvider=new eui.ArrayCollection(a),e.listGoods.itemRenderer=GoodsListIRSkin})},t.prototype.uiCompHandler=function(){this.rankingList()},t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t}(eui.Component);__reflect(Ranking.prototype,"Ranking");var GoodsListIRSkin=function(e){function t(){var t=e.call(this)||this;return t.skinName="rankingList",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);__reflect(GoodsListIRSkin.prototype,"GoodsListIRSkin");var Kidding=function(e){function t(){var t=e.call(this)||this;return t.skinName="ScoreBest",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);__reflect(Kidding.prototype,"Kidding");var API;!function(e){var t={url:"/user",method:"post",baseURL:BlackJack.requestHTTP().ajaxUrl+"cloud2.activity.api",transformRequest:[function(e){var t="";for(var i in e)t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:5e4,responseType:"json"},i=({url:"/user",method:"get",baseURL:BlackJack.requestHTTP().ajaxUrl+"cloud2.activity.api",transformRequest:[function(e){var t="";for(var i in e)t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:5e4,responseType:"json"},{ERROR_CODE:{OK:200}});e.getUserInfo=function(e){return axios.post(BlackJack.requestHTTP().ajaxUrl+"cloud2.activity.api/gamePlatform/queryUserInfo.do",e,t).then(function(e){return i.ERROR_CODE.OK==e.status?e.data:e.data})},e.getUserRanking=function(e){return axios.post(BlackJack.requestHTTP().ajaxUrl+"cloud2.activity.api/h5game/h5Heap/getHeapGameRankList.do",e,t).then(function(e){return i.ERROR_CODE.OK==e.status?e.data:e.data})},e.getGameInfo=function(e){return axios.post(BlackJack.requestHTTP().ajaxUrl+"cloud2.activity.api/v7/market/drwaLottery/getGameActitityInfo.do",e,t).then(function(e){return i.ERROR_CODE.OK==e.status?e.data:e.data})}}(API||(API={}));var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},t.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},t.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(this.GameContainer=new BlackJack.GameContainer,this.addChild(this.GameContainer))},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")
},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t}(eui.UILayer);__reflect(Main.prototype,"Main");